{"version":3,"sources":["scripts/context/AuthProvider.js","scripts/components/Header.js","scripts/components/Home.js","scripts/logic/checkLoginToRedirect.js","scripts/components/Login.js","scripts/components/Register.js","scripts/components/Comment.js","scripts/components/Topic.js","scripts/components/Topics.js","scripts/routes/PrivateRoute.js","images/profile.png","scripts/logic/uploadImage.js","scripts/components/Profile.js","scripts/routes/ProfileRoutes.js","scripts/routes/AllRoutes.js","App.js","index.js"],"names":["authContext","createContext","AuthProvider","children","useState","logged","user","setUser","console","log","id","fetch","method","then","res","json","message","catch","err","initializeUser","Provider","value","Header","useContext","path","useLocation","pathname","className","indexOf","onClick","to","type","placeholder","activeClassName","exact","Home","checkLoginToRedirect","history","replace","Login","username","setUsername","password","setPassword","wrong","setWrong","from","state","useHistory","useEffect","style","backgroundColor","onChange","e","target","preventDefault","headers","body","JSON","stringify","userData","problem","Register","Comment","comment","source","commentMode","setCommentMode","showChildComments","setShowChildComments","childComments","setChildComments","ref","useRef","document","activeElement","blur","author","content","commentRef","current","newComment","querySelector","parent","length","map","child","Topic","Topics","title","founder","rating","intro","topics","useRouteMatch","topic","rate","component","PrivateRoute","props","location","openImagePicker","click","Profile","profile_image","profile","profileImage","setProfileImage","personalInfoMode","setPersonalInfoMode","src","alt","func","image","files","blobImage","Blob","URL","createObjectURL","updateProfileImage","accept","profile_info","display","ProfileRoutes","AllRoutes","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.af89db7c.chunk.js","sourcesContent":["import React, { createContext, useState } from 'react';\r\n\r\nexport const authContext = createContext();\r\n\r\nfunction AuthProvider({ children }) {\r\n  \r\n  const [user, setUser] = useState({ logged: true });\r\n  initializeUser();\r\n\r\n  return (\r\n    <authContext.Provider value={[user, setUser]}>\r\n      {children}\r\n    </authContext.Provider>\r\n  )\r\n\r\n  function initializeUser(){\r\n    console.log(user);\r\n    if(user.logged === false) return;\r\n    if(user.id) return;\r\n    fetch(\"/profile\", {\r\n      method: \"POST\"\r\n    })\r\n    .then(res => res.json())\r\n    .then(user => {\r\n      console.log(user);\r\n      if(user.message){\r\n        setUser({ logged: false });\r\n        return;\r\n      };\r\n      if(!(user.id + 100)){\r\n        setUser({ logged: false });\r\n        return;\r\n      }\r\n      setUser({ ...user, logged: true });\r\n      console.log(\"Seteamos el user: \" + user);\r\n    })\r\n    .catch(err => {\r\n      if(err){      \r\n        setUser({ logged: false });\r\n        return;\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport default AuthProvider;\r\n","import React, { useContext } from \"react\";\r\nimport { NavLink, Link, useLocation } from \"react-router-dom\";\r\nimport { authContext } from \"../context/AuthProvider\";\r\n\r\nfunction Header() {\r\n\r\n  const [user, setUser] = useContext(authContext);\r\n  const { pathname: path } = useLocation();\r\n\r\n  return (\r\n    <header className=\"main-header\">\r\n      {path.indexOf(\"/login\") !== 0 && (user.logged ?\r\n        <button onClick={logout} className=\"logout\">Log Out</button>\r\n        :\r\n        <Link to=\"/login\" className=\"login\">Log In</Link>)\r\n      }\r\n      <h1 className=\"title\">COMMENTS APP</h1>\r\n      <div className=\"comment\">\r\n        <input type=\"text\" placeholder=\"Look for a topic...\" />\r\n        <button className=\"add add-main\"><i className=\"fas fa-search\"></i></button>\r\n      </div>\r\n      <nav>\r\n        <ul>\r\n          <NavLink activeClassName=\"here\" exact to=\"/\">Home</NavLink>\r\n          <NavLink activeClassName=\"here\" to=\"/profile\">Profile</NavLink>\r\n          <NavLink activeClassName=\"here\" to=\"/topics\">Topics</NavLink>\r\n          <NavLink activeClassName=\"here\" to=\"/enemies\">Enemies</NavLink>\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  )\r\n\r\n  function logout() {\r\n    fetch(\"/logout\", {\r\n      method: \"POST\"\r\n    })\r\n      .then(res =>\r\n        setUser({ logged: false })\r\n      )\r\n  }\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\nfunction Home() {\r\n  return (\r\n    <>\r\n      <main className=\"home\">\r\n        <div className=\"content\">\r\n          <h2 className=\"title\">Prepare to discuss</h2>\r\n          <p className=\"intro\">\r\n            Este sitio fue ideado con la premisa de que a todos les gusta hablar mal de algo.\r\n            Y debido a lo comun que es, he considerado necesario declararlo como un Derecho Humano,\r\n            el derecho de quejarse de todo. Por lo anterior, esta plataforma simplemente se presenta\r\n            como un medio de descarga emocional, y... por que no (en el mejor de los casos) como punto\r\n            de discusiones constructivas y tertulias amenas.\r\n          </p>\r\n          <div className=\"random\">\r\n            <span>Random Discussion</span><button className=\"go-to-comments\">Join</button>\r\n          </div>\r\n        </div>\r\n      </main>\r\n      <section className=\"hottest-topics\">\r\n        <article className=\"topic\">Games</article>\r\n        <article className=\"topic\">War</article>\r\n        <article className=\"topic\">Heroes</article>\r\n        <article className=\"topic\">Religion</article>\r\n      </section>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Home;","function checkLoginToRedirect(user, history) {\r\n  if (user.id) return;\r\n  fetch(\"/profile\", {\r\n    method: \"POST\"\r\n  })\r\n    .then(res => res.json())\r\n    .then(user => {\r\n      console.log(user);\r\n      if (user.message) return;\r\n      if (!(user.id + 100)) return;\r\n      history.replace(\"/\");\r\n    })\r\n}\r\n\r\nexport default checkLoginToRedirect","import React, { useContext, useEffect, useState } from 'react'\r\nimport { useHistory, useLocation, Link } from 'react-router-dom';\r\nimport { authContext } from \"../context/AuthProvider\"\r\nimport checkLoginToRedirect from '../logic/checkLoginToRedirect';\r\n\r\nfunction Login() {\r\n\r\n  const [user, setUser] = useContext(authContext);\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [ wrong, setWrong ] = useState(\"\");\r\n  const { from } = useLocation().state || { from: { pathname: \"/\" } };\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    checkLoginToRedirect(user, history);\r\n  }, []);\r\n\r\n  return (\r\n    <main className=\"login-form\">\r\n      <h3 className=\"title\">Login</h3>\r\n      <form>\r\n        <input style={wrong === \"username\" ? { backgroundColor: \"#fbb\" } : {} } onChange={(e) => setUsername(e.target.value)} value={username} type=\"text\" className=\"username\" placeholder=\"Username\" />\r\n        <input style={wrong === \"password\" ? { backgroundColor: \"#fbb\" } : {} } onChange={(e) => setPassword(e.target.value)} value={password} type=\"password\" className=\"password\" placeholder=\"Password\" />\r\n        <button onClick={login} className=\"login\">Login</button>\r\n      </form>\r\n      <div className=\"register-now\">      \r\n        <span> Have not an account yet? </span><Link to=\"/register\">Sign In</Link>\r\n      </div>\r\n    </main>\r\n  )\r\n\r\n  function login(e) {\r\n    e.preventDefault();\r\n    fetch(\"/login\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Accept\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({ username, password })\r\n    })\r\n      .then(res => res.json())\r\n      .then(userData => {\r\n        if (!userData.problem) {\r\n          setUser({ ...userData, logged: true });\r\n          console.log(userData);\r\n          history.replace(from);\r\n          return\r\n        }\r\n        console.log(userData);\r\n        if(userData.problem === \"username\"){\r\n          setWrong(\"username\");\r\n        }\r\n        if(userData.problem === \"password\"){\r\n          setWrong(\"password\");\r\n        }\r\n      })\r\n      .catch(err => { if (err) console.log(err) })\r\n  }\r\n}\r\n\r\n\r\nexport default Login\r\n","import React, { useContext, useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom';\r\nimport { authContext } from \"../context/AuthProvider\"\r\nimport checkLoginToRedirect from '../logic/checkLoginToRedirect';\r\n\r\nfunction Register() {\r\n\r\n  const history = useHistory();\r\n  const [ user, setUser ] = useContext( authContext );\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  useEffect(() => {\r\n    checkLoginToRedirect(user, history);\r\n  }, []);\r\n\r\n  return (\r\n    <main className=\"register-form\">\r\n      <h3 className=\"title\">Register</h3>\r\n      <form>\r\n        <input onChange={(e) => setUsername(e.target.value)} type=\"text\" className=\"username\" placeholder=\"Username\" value={username}/>\r\n        <input onChange={(e) => setPassword(e.target.value)} type=\"password\" className=\"password\" placeholder=\"Password\"  value={password}/>\r\n        <button onClick={register} className=\"register\">Register</button>\r\n      </form>\r\n    </main>\r\n  )\r\n\r\n  function register(e) {\r\n    e.preventDefault();\r\n    fetch(\"/register\", {\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      method: \"POST\",\r\n      body: JSON.stringify({username, password})}\r\n    )\r\n    .then(res => res.json())\r\n    .then(res => {\r\n      console.log(res);\r\n      if(!res.problem) history.replace(\"/login\");\r\n    })\r\n    .catch(err => {\r\n      console.log(err)\r\n      if(err) console.log(\"No se pudo enviar la data...\")\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport default Register\r\n","import React, { useEffect, useRef, useState } from 'react'\r\n\r\nfunction Comment({ source: comment }) {\r\n\r\n  const [commentMode, setCommentMode] = useState(false);\r\n  const [showChildComments, setShowChildComments] = useState(false);\r\n  const [childComments, setChildComments] = useState([]);\r\n\r\n\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    console.log(document.activeElement);\r\n    document.activeElement.blur();\r\n  })\r\n\r\n  return (\r\n    <article ref={ref} className={`comment ${comment.id}`}>\r\n      <h4 className=\"author\">{comment.author}</h4>\r\n      <p className=\"content\">\r\n        {comment.content}\r\n      </p>\r\n      <ul className=\"actions\">\r\n        {commentMode ?\r\n          <>\r\n            <input type=\"text\" className=\"answer-comment\" />\r\n            <button onClick={addChild} className=\"send-answer-comment\">Send</button>\r\n            <button onClick={() => { setCommentMode(false) }} className=\"abort-answer-comment\">&times;</button>\r\n          </>\r\n          :\r\n          <>\r\n            {!!childComments.length &&\r\n              <button onClick={() => setShowChildComments(!showChildComments)} className=\"see-more\">...</button>\r\n            }\r\n            <button onClick={() => { setCommentMode(true) }} className=\"answer\">+</button>\r\n          </>\r\n        }\r\n      </ul>\r\n      <ol className=\"children\">\r\n        {!!childComments.length && showChildComments &&\r\n          childComments.map(child => <Comment key={child.id} source={child} />)\r\n        }\r\n      </ol>\r\n    </article>\r\n  )\r\n\r\n  function addChild() {\r\n    const commentRef = ref.current;\r\n    console.log(commentRef);\r\n    const newComment = {\r\n      id: 3,\r\n      content: commentRef.querySelector(\".answer-comment\").value,\r\n      author: \"espera\",\r\n      parent: \"espera\",\r\n    };\r\n    setChildComments([...childComments, newComment]);\r\n    setCommentMode(false);\r\n    setShowChildComments(true);\r\n  }\r\n}\r\n\r\nexport default Comment\r\n","import React, { useReducer } from 'react';\r\nimport Comment from './Comment';\r\n\r\nfunction Topic() {\r\n\r\n  const comments = [\r\n    {id:1, author: \"Pepe\", children:false, commentMode:false, content:\"Estas loco oe sonso\"},\r\n    {id:2, author: \"Mujica\", children:false, commentMode:false, content:\"Pelead entre vosotros hermanos...\"},\r\n  ]\r\n\r\n\r\n  return (\r\n    <>\r\n      <main className=\"topic\">\r\n        <h3 className=\"title\">Topic!</h3>\r\n        <p className=\"intro\">\r\n          algo bacano\r\n      </p>\r\n      </main>\r\n      <section className=\"comments\">\r\n        {comments.map(comment => !comment.parent &&\r\n            <Comment key={comment.id} source={comment} />\r\n          )\r\n        }\r\n      </section>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Topic\r\n","import React from 'react'\r\nimport { useState } from 'react'\r\nimport { Link, Route, useRouteMatch } from 'react-router-dom';\r\nimport Topic from './Topic';\r\n\r\nfunction Topics() {\r\n\r\n  const [topics, setTopics] = useState([\r\n    { title: \"Guerra\", id: 1, founder: \"Nicola Tesla\", rating: 3, intro: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Commodi temporibus harum eos necessitatibus voluptatum aspernatur suscipit consectetur excepturi, pariatur deleniti error voluptas fuga assumenda! Sequi illo dolores laboriosam, magni voluptatibus veniam deleniti minima. Dolores autem deserunt mollitia atque officiis. Quia maiores, quo accusamus aut vel enim voluptatibus aperiam recusandae ipsum?\" },\r\n    { title: \"Muerte\", id: 2, founder: \"Elon Musk\", rating: 2, intro: \"Lorem ipsudfsdjfhjdghgj quehsle fhgfy consectetur excepturi, pariatur deleniti error voluptas fuga assumenda! Sequi illo dolores laboriosam, magni voluptatibus veniam deleniti minima. Dolores autem deserunt mollitia atque officiis.Lorem ipsudfsdjfhjdghgj quehsle fhgfy consectetur excepturi, pariatur deleniti error voluptas fuga assumenda! Sequi illo dolores laboriosam, magni voluptatibus veniam deleniti minima. Dolores autem deserunt mollitia atque officiis. Quia maiores, quo accusamus aut vel enim voluptatibus aperiam recusandae ipsum? Quia maiores, quo accusamus aut vel enim voluptatibus aperiam recusandae ipsum?\" },\r\n    { title: \"Guerra\", id: 3, founder: \"Nicola Tesla\", rating: 3, intro: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Commodi temporibus harum eos necessitatibus voluptatum aspernatur suscipit consectetur excepturi, pariatur deleniti error voluptas fuga assumenda! Sequi illo dolores laboriosam, magni voluptatibus veniam deleniti minima. Dolores autem deserunt mollitia atque officiis. Quia maiores, quo accusamus aut vel enim voluptatibus aperiam recusandae ipsum?\" },\r\n    { title: \"Muerte\", id: 4, founder: \"Elon Musk\", rating: 1, intro: \"Lorem ipsudfsdjfhjdghgj quehsle fhgfy consectetur excepturi, pariatur deleniti error voluptas fuga assumenda! Sequi illo dolores laboriosam, magni voluptatibus veniam deleniti minima. Dolores autem deserunt mollitia atque officiis. Quia maiores, quo accusamus aut vel enim voluptatibus aperiam recusandae ipsum?\" },\r\n  ]);\r\n\r\n  const { path } = useRouteMatch();\r\n\r\n  return (\r\n    <>\r\n      <Route exact path={path}>\r\n        <main className=\"topics\">\r\n          {topics.map(topic =>\r\n            <Link key={topic.id} to={`${path}/${topic.id}`} >\r\n              <article className={`topic ${topic.id}`}>\r\n                <div className=\"rating\">{\r\n                  [1, 2, 3, 4, 5].map(rate => rate <= topic.rating ? <i key={rate} className=\"fas fa-star\"></i> : <i key={rate + 100} className=\"far fa-star\"></i>)\r\n                }</div>\r\n                <h3 className=\"title\">{topic.title}</h3>\r\n                <p className=\"content\">\r\n                  {topic.intro}\r\n                </p>\r\n                <h4 className=\"founder\">{topic.founder}</h4>\r\n              </article>\r\n            </Link>\r\n          )}\r\n        </main>\r\n      </Route>\r\n      <Route path={`${path}/:id`} component={Topic} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Topics\r\n","import React, { useContext } from 'react'\r\nimport { Redirect, Route, useLocation } from 'react-router';\r\nimport { authContext } from '../context/AuthProvider'\r\n\r\nfunction PrivateRoute(props) {\r\n\r\n  const [user] = useContext(authContext);\r\n  const {logged} = user;\r\n  const location = useLocation();\r\n  console.log(location)\r\n\r\n  return ( \r\n    <>\r\n    {logged ? \r\n      <Route {...props} />\r\n      :\r\n      <Redirect to={\r\n        {pathname: \"/login\", state: {from: location}}\r\n      } />\r\n    }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PrivateRoute\r\n","export default __webpack_public_path__ + \"static/media/profile.eba9ed41.png\";","function openImagePicker() {\r\n  document.querySelector(\".image-picker-input\").click();\r\n}\r\n\r\nfunction updateProfileImage(e, func){\r\n  const image = e.target.files[0];\r\n  if(image.type === \"image/svg+xml\") return;\r\n  const blobImage = new Blob([image]);\r\n  const url = URL.createObjectURL(blobImage);\r\n  func(url);\r\n}\r\n\r\nexport { openImagePicker, updateProfileImage };\r\n","import React, { useContext, useState } from 'react';\r\nimport profile from \"../../images/profile.png\";\r\nimport { authContext } from '../context/AuthProvider';\r\nimport { openImagePicker, updateProfileImage } from '../logic/uploadImage';\r\n\r\nfunction Profile() {\r\n\r\n  const [user] = useContext( authContext );\r\n  const [profileImage, setProfileImage] = useState(user.profile_image ?? profile);\r\n  const [personalInfoMode, setPersonalInfoMode] = useState(\"watch\");\r\n\r\n  return (\r\n    <main className=\"profile\">\r\n      <div className=\"avatar-section\">\r\n        <img onClick={openImagePicker} className=\"image-picker\" src={profileImage} alt=\"Profile\" />\r\n        <i className=\"fas fa-camera change-image\"></i>\r\n        <input onChange={(e) => updateProfileImage(e, setProfileImage)} className=\"image-picker-input\" accept=\"image/*\" type=\"file\" />\r\n      </div>\r\n      <div className=\"content\">\r\n        <h3 className=\"name\">{user.username}</h3>\r\n        <div className=\"info\">\r\n          {personalInfoMode === \"watch\" ?\r\n            <>\r\n              <p>{user.profile_info ?? \"Waiting...\"}</p>\r\n              <button onClick={() => personalInfoMode === \"watch\" ? setPersonalInfoMode(\"edit\") : setPersonalInfoMode(\"watch\")} className=\"edit\">Edit</button>\r\n            </>\r\n            :\r\n            <>\r\n              <textarea className=\"set-personal-info\"></textarea>\r\n              <button className=\"set\">Set</button>\r\n              <button className=\"cancel\">Cancel</button>\r\n            </>\r\n          }\r\n        </div>\r\n        <div style={{ display: \"none\" }} className=\"trophies\">\r\n          <div className=\"trophy speaker\">M</div>\r\n          <div className=\"trophy devil\">M</div>\r\n          <div className=\"trophy badass\">M</div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Profile\r\n","import React from 'react';\r\nimport { Switch, useRouteMatch} from \"react-router-dom\";\r\nimport PrivateRoute from './PrivateRoute';\r\nimport Profile from '../components/Profile';\r\n\r\nfunction ProfileRoutes() {\r\n\r\n  const { path } = useRouteMatch();\r\n\r\n  return (\r\n    <Switch>\r\n      <PrivateRoute exact path={`${ path }`} component={Profile}/>\r\n    </Switch>\r\n  )\r\n}\r\n\r\nexport default ProfileRoutes\r\n","import React from 'react';\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport Home from '../components/Home';\r\nimport Login from '../components/Login';\r\nimport Register from '../components/Register';\r\nimport Topics from '../components/Topics';\r\nimport ProfileRoutes from './ProfileRoutes';\r\n\r\nfunction AllRoutes() {\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/\" component={Home} />\r\n      <Route path=\"/login\" component={Login} />\r\n      <Route path=\"/register\" component={Register} />\r\n      <Route path=\"/profile\" component={ProfileRoutes} />\r\n      <Route path=\"/topics\" component={Topics} />\r\n    </Switch>\r\n  )\r\n}\r\n\r\nexport default AllRoutes\r\n","import React from \"react\";\nimport {\n  BrowserRouter as Router,\n} from \"react-router-dom\";\nimport Header from \"./scripts/components/Header\";\nimport AuthProvider from \"./scripts/context/AuthProvider\";\nimport AllRoutes from \"./scripts/routes/AllRoutes\";\n\n\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router>\n        <Header />\n        <AllRoutes />\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}